<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CHILD</title>
  
  <subtitle>White Hat</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-03-26T15:32:57.732Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Jone Wang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>nessue的使用</title>
    <link href="http://yoursite.com/2019/03/26/nessue%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/03/26/nessue的使用/</id>
    <published>2019-03-26T15:27:33.000Z</published>
    <updated>2019-03-26T15:32:57.732Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>关于msfconsole自动连接数据库失败问题解决</title>
    <link href="http://yoursite.com/2019/03/26/%E5%85%B3%E4%BA%8Emsfconsole%E8%87%AA%E5%8A%A8%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
    <id>http://yoursite.com/2019/03/26/关于msfconsole自动连接数据库失败问题解决/</id>
    <published>2019-03-26T06:16:13.000Z</published>
    <updated>2019-03-26T15:05:55.515Z</updated>
    
    <content type="html"><![CDATA[<h1 id="关于msfconsole自动连接数据库失败问题解决"><a href="#关于msfconsole自动连接数据库失败问题解决" class="headerlink" title="关于msfconsole自动连接数据库失败问题解决"></a>关于msfconsole自动连接数据库失败问题解决</h1><p>这篇博客可能对于那些有强迫症的人来说是一个福音把，本人就是一个患有微型强迫症的人，凡事追求完美，所以才绞尽脑汁的去找解决这一问题的办法，也是在网上找了很多的资料才解决了这一个问题。有需要的可以借鉴一下</p><p>​    就本身来说msf这个工具是否连接数据库，影响不大，只是有时后他的查找模块的速度实在太慢了。为了追求速度，我决定找资料来解决我的这个问题。下面说一下我的这个问题的解决方法</p> <a id="more"></a><p>​    <a href="https://blog.csdn.net/qq_34444097/article/details/79679640" target="_blank" rel="noopener">前面部分我主要是引用了这条博客里的方法</a></p><p>​    从这里开始要注意了：</p><p>​    <img src="/2019/03/26/关于msfconsole自动连接数据库失败问题解决/1.png"></p><p>在数据库里进行这些操作时要先查看数据库里是否已经存在msf用户和msf库，如果存在要先删除此用户及库再重新建立，用到的删除命令如下（注意分号，有分号的命令一定要带分号）</p><p>​    </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\du; 查看用户</span><br><span class="line"></span><br><span class="line">drop user msf; 删除msf用户</span><br><span class="line"></span><br><span class="line">\l 查看数据库</span><br><span class="line"></span><br><span class="line">drop database msf; 删除数据库</span><br></pre></td></tr></table></figure><p>接下来进入数据库创建新的数据库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create user msf with password &apos;admin&apos; createdb; </span><br><span class="line"></span><br><span class="line">create database msf with owner=msf;</span><br></pre></td></tr></table></figure><p>进入msfconsole后查看数据库连接状态，如未连接，手动执行连接，命令为</p><p>​    </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db_connect</span><br></pre></td></tr></table></figure><p>接下来就是如何开启自动连接：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">到此路径下：/usr/share/metasploit-framework/config</span><br><span class="line"></span><br><span class="line">先备份一下原有的database.yml文件</span><br><span class="line"></span><br><span class="line">cp database.yml database.yml.bak</span><br><span class="line"></span><br><span class="line">里面有模板文件是database.yml.travis</span><br><span class="line"></span><br><span class="line">将其作为配置文件覆盖</span><br><span class="line"></span><br><span class="line">cp database.yml.travis database.yml</span><br></pre></td></tr></table></figure><p>​    leafpad打开database.yml将其编辑成下面的样子保存即可。</p><p>​    <img src="/2019/03/26/关于msfconsole自动连接数据库失败问题解决/2.png"></p><p>重启postgres数据库，打开msfconsole，查看数据库连接状态应该就已经自动连接成功了</p><p>​    </p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;关于msfconsole自动连接数据库失败问题解决&quot;&gt;&lt;a href=&quot;#关于msfconsole自动连接数据库失败问题解决&quot; class=&quot;headerlink&quot; title=&quot;关于msfconsole自动连接数据库失败问题解决&quot;&gt;&lt;/a&gt;关于msfconsole自动连接数据库失败问题解决&lt;/h1&gt;&lt;p&gt;这篇博客可能对于那些有强迫症的人来说是一个福音把，本人就是一个患有微型强迫症的人，凡事追求完美，所以才绞尽脑汁的去找解决这一问题的办法，也是在网上找了很多的资料才解决了这一个问题。有需要的可以借鉴一下&lt;/p&gt;
&lt;p&gt;​    就本身来说msf这个工具是否连接数据库，影响不大，只是有时后他的查找模块的速度实在太慢了。为了追求速度，我决定找资料来解决我的这个问题。下面说一下我的这个问题的解决方法&lt;/p&gt;
    
    </summary>
    
      <category term="工具问题" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="white-hat" scheme="http://yoursite.com/tags/white-hat/"/>
    
  </entry>
  
  <entry>
    <title>永恒之蓝入侵过程</title>
    <link href="http://yoursite.com/2019/03/26/%E6%B0%B8%E6%81%92%E4%B9%8B%E8%93%9D%E5%85%A5%E4%BE%B5%E8%BF%87%E7%A8%8B/"/>
    <id>http://yoursite.com/2019/03/26/永恒之蓝入侵过程/</id>
    <published>2019-03-26T06:14:02.000Z</published>
    <updated>2019-03-26T15:05:41.884Z</updated>
    
    <content type="html"><![CDATA[<h1 id="永恒之蓝的入侵过程"><a href="#永恒之蓝的入侵过程" class="headerlink" title="永恒之蓝的入侵过程"></a>永恒之蓝的入侵过程</h1><p>​    <strong>永恒之蓝在msfconsole中被称之为ms17_010，对应的端口为445端口，也就是SMB服务，这是微软出问题最多的一个服务。</strong></p><p>​    如果你的主机445端口有打开的</p><p>话，那入侵者会有很大的机会通过这种方式入侵到你的主机，当然这只是针对于一下系统在没有打补丁的情况下。</p><p>​    被ms17-010影响的系统版本：Windows NT，Windows 2000、Windows XP、Windows 2003、Windows Vista、Windows 7、Windows 8，Windows 2008、Windows 2008 R2、Windows Server 2012 SP0。 </p><a id="more"></a>        <p>​    现在重现一下这个漏洞：</p><ol><li><p><strong>打开一个Windows server 2008 / 2003（不需要任何操作）</strong></p></li><li><p><strong>进入kaliLinux系统，进行主机发现，这里我用的是netdiscover的二层发现。当然主机发现的方法有很多，选自己最熟练就好</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**netdiscover -i eth0 -r 网段（-i指定网卡）**</span><br></pre></td></tr></table></figure><img src="/2019/03/26/永恒之蓝入侵过程/1.png"></li><li><p><strong>发现目标IP后可使用nessus去扫描目标主机是否有相关漏洞。（关于这个工具的使用后续我会发博客演示）</strong></p></li><li><p><strong>启动msfconsole（先启动数据库Msfdb start 或者 service postgresql start）</strong></p><p><strong>关于有些人启动数据库后启动msfconsole还是不能连接数据的问题，后续也会推出我的解决办法，当然不论是否连接上数据库都不影响msfconsole的使用只是查找模块的速度会慢一些。</strong></p></li><li><p><strong>查找ms17_010的相关模</strong></p><img src="/2019/03/26/永恒之蓝入侵过程/2.png"></li><li><p><strong>使用扫描模块（进一步扫描是否存在ms17_010</strong></p><img src="/2019/03/26/永恒之蓝入侵过程/3.png"></li><li><p><strong>使用攻击模块</strong></p><p><strong>攻击完成后会弹出Windows的DOS窗口，直接是最高的系统权限</strong></p><img src="/2019/03/26/永恒之蓝入侵过程/4.png"><img src="/2019/03/26/永恒之蓝入侵过程/5.png"><p><strong>为了更加方便的操作，可以利用DOS界面关闭防火墙，打开远程连接端口（3389），实现远程的图像化操作</strong></p><img src="/2019/03/26/永恒之蓝入侵过程/7.png"><img src="/2019/03/26/永恒之蓝入侵过程/8.png"><img src="/2019/03/26/永恒之蓝入侵过程/10.png"><img src="/2019/03/26/永恒之蓝入侵过程/11.png"><img src="/2019/03/26/永恒之蓝入侵过程/12.png"><p><strong>在这里可能存在问题，没有账号密码怎么登录界面，前面在DOS中已经时系统权限了，我们可以创建一个自己的用户到管理员组，登录再提权到系统权限了，这个方法就很多了。</strong></p></li></ol><ol start="8"><li><strong>完成收工时记得清理访问日志，留下后门，以便于下次继续来访。</strong></li></ol><p>​    <strong>最后谈一下感想，作为一个刚刚入门安全不久的小白，这是我在github的第一篇博客，想在这里记录一下自己再安全领域的学习历程，当然欢迎各位大佬的指点，我一定虚心接受学习。总之，是真的喜欢这一行业才决定要在这里请教，记录，后续还或有更多的关于我学习安全的一些博客和经历，欢迎各位前来指点。</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;永恒之蓝的入侵过程&quot;&gt;&lt;a href=&quot;#永恒之蓝的入侵过程&quot; class=&quot;headerlink&quot; title=&quot;永恒之蓝的入侵过程&quot;&gt;&lt;/a&gt;永恒之蓝的入侵过程&lt;/h1&gt;&lt;p&gt;​    &lt;strong&gt;永恒之蓝在msfconsole中被称之为ms17_010，对应的端口为445端口，也就是SMB服务，这是微软出问题最多的一个服务。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;​    如果你的主机445端口有打开的&lt;/p&gt;
&lt;p&gt;话，那入侵者会有很大的机会通过这种方式入侵到你的主机，当然这只是针对于一下系统在没有打补丁的情况下。&lt;/p&gt;
&lt;p&gt;​    被ms17-010影响的系统版本：Windows NT，Windows 2000、Windows XP、Windows 2003、Windows Vista、Windows 7、Windows 8，Windows 2008、Windows 2008 R2、Windows Server 2012 SP0。 &lt;/p&gt;
    
    </summary>
    
      <category term="远程入侵" scheme="http://yoursite.com/categories/%E8%BF%9C%E7%A8%8B%E5%85%A5%E4%BE%B5/"/>
    
    
      <category term="white-hat" scheme="http://yoursite.com/tags/white-hat/"/>
    
  </entry>
  
</feed>
